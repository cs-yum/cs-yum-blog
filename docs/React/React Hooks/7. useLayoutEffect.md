## ðŸ§‘ðŸ»â€ðŸ’»Â **useLayoutEffect**

---

### âœ…Â **useLayoutEffect** ë¬¸ë²•

```jsx
useLayoutEffect(setup, dependencies?)
```

â†’  `useLayoutEffect` ëŠ” ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì„ ë‹¤ì‹œ ì±„ìš°ê¸° ì „ì— ì‹¤í–‰ë˜ëŠ” ë²„ì „ì˜ `useEffect`ì´ë‹¤.

## ðŸ§‘ðŸ»â€ðŸ’»Â ì•Œê³  ê°€ê¸°

---

### âœ…Â ì£¼ì˜ ì‚¬í•­

â†’ `useLayoutEffect` ë‚´ë¶€ì— ì˜ˆì•½ëœ stateê°€ ì—…ë°ì´íŠ¸ ë˜ë©´ ë¦¬ ë Œë”ë§ì„ ìš°ì„  ì°¨ë‹¨í•œ í›„  `useLayoutEffect` ë‚´ë¶€ ë¡œì§ ë™ìž‘ì´ ì™„ë£Œë˜ê³  ë‚˜ì„œì•¼ ë¦¬ ë Œë”ë§ì´ ë™ìž‘í•œë‹¤. ì´ ë•Œë¬¸ì— ê³¼ë„í•˜ê²Œ ì‚¬ìš©í•˜ë©´ ì›¹ì´ ëŠë ¤ì§€ë‹ˆ, ê°€ê¸‰ì ì´ë©´ `useEffect`ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

### âœ…Â ì–¸ì œ ì‚¬ìš©í•˜ëŠ”ì§€

â†’ ë¸Œë¼ìš°ì €ì—ì„œ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦¬ê¸° ì „ ë ˆì´ì•„ì›ƒ ì¸¡ì •ì´ í•„ìš”í•  ë•Œ

```jsx
import { useRef, useLayoutEffect, useState } from 'react';
import { createPortal } from 'react-dom';
import TooltipContainer from './TooltipContainer.js';

export default function Tooltip({ children, targetRect }) {
  const ref = useRef(null);
  const [tooltipHeight, setTooltipHeight] = useState(0);

  useLayoutEffect(() => {
    const { height } = ref.current.getBoundingClientRect();
    setTooltipHeight(height);
    console.log('Measured tooltip height: ' + height);
  }, []);

  let tooltipX = 0;
  let tooltipY = 0;
  if (targetRect !== null) {
    tooltipX = targetRect.left;
    tooltipY = targetRect.top - tooltipHeight;
    if (tooltipY < 0) {
      // It doesn't fit above, so place below.
      tooltipY = targetRect.bottom;
    }
  }

  return createPortal(
    <TooltipContainer x={tooltipX} y={tooltipY} contentRef={ref}>
      {children}
    </TooltipContainer>,
    document.body
  );
}
```