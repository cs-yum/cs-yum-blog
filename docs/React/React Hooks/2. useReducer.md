## ğŸ§‘ğŸ»â€ğŸ’»Â useReducer

---

`useReducer` ëŠ” ì»´í¬ë„ŒíŠ¸ì— reducerë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” React Hookì´ë‹¤.

### âœ…Â useReducer ë¬¸ë²•

```jsx
const [state, dispatch] = useReducer(reducer, initialArg, init?)
```

```tsx
import { useReducer } from 'react';

// state ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì˜ reducer í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•œ ê²½ìš°
function reducer(state, action) {
  // ...
} 

function MyComponent() {
  const [state, dispatch] = useReducer(reducer, { age: 42 });
  // ...
```

- `useReducer`ëŠ” `useState`ì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ í˜„ì¬ stateë¥¼ ì œê³µí•˜ê³ , ì—…ë°ì´íŠ¸í•˜ëŠ” `dispatch` í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.
- `reducer`ëŠ” stateê°€ ì—…ë°ì´íŠ¸ë˜ëŠ” ë°©ì‹ì„ ì§€ì •í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
- `initialArg` ëŠ” ì´ˆê¸° stateê°€ ê³„ì‚°ë˜ëŠ” ê°’ì´ë‹¤.
- `init`ì€ ì´ˆê¸° state ê³„ì‚° ë°©ë²•ì„ ì§€ì •í•˜ëŠ” ì´ˆê¸°í™” í•¨ìˆ˜ì´ë‹¤. ****
    
    - ì´ê²ƒì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ì´ˆê¸° stateëŠ” `initialArg`ë¡œ ì„¤ì •ë˜ê³  ì´ˆê¸° stateëŠ” `init(initialArg)`ë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ë¡œ ì„¤ì •ëœë‹¤
    

## ğŸ§‘ğŸ»â€ğŸ’»Â ì•Œê³  ê°€ê¸°

---

### âœ…Â dispatch í•¨ìˆ˜

- stateë¥¼ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê³  ë¦¬ë Œë”ë§í•œë‹¤.
- ë§¤ê°œë³€ìˆ˜ë¡œ `action`ì„ ì „ë‹¬ë°›ê³  ë°˜í™˜ê°’ì€ ì—†ë‹¤.
    - `action`: ì‚¬ìš©ìê°€ ìˆ˜í–‰í•œ ì‘ì—…. ë³´í†µ type ì†ì„±ì´ ìˆëŠ” ê°ì²´ê°€ ì˜¨ë‹¤.
    
    ```tsx
    const [state, dispatch] = useReducer(reducer, { age: 42 });
    
    function handleClick() {
      dispatch({ type: 'incremented_age' });
      // ...
    ```
    

### âœ…Â reducer í•¨ìˆ˜

- stateë¥¼ ì–´ë–»ê²Œ ë³€ê²½(action)í• ì§€ ë¡œì§ì„ ì‘ì„±í•˜ëŠ” í•¨ìˆ˜ë¡œ, ë³´í†µ typeì„ í™œìš©í•œ if ë¬¸ê³¼ switch case ë¬¸ìœ¼ë¡œ ë¡œì§ì„ ì‘ì„±í•œë‹¤.
- ì´ë•Œ stateëŠ” ì½ê¸° ì „ìš©ìœ¼ë¡œ, ë°°ì—´ê³¼ ê°ì²´ stateì˜ ê²½ìš° ë³€ì´í•˜ì§€ ì•Šê³ , êµì²´í•´ì•¼ í•œë‹¤. ì´ë¥¼ ì‹ ê²½ ì“°ê¸° ì‹«ë‹¤ë©´ `useImmerReducer` ë¥¼ ì‚¬ìš©í•˜ì.

## ğŸ§‘ğŸ»â€ğŸ’»Â í™œìš© ë° ìƒê°í•  ê±°ë¦¬

---

### âœ…Â ì´ˆê¸° state ì¬ìƒì„± ë°©ì§€

- ReactëŠ” ì´ˆê¸° stateë¥¼ í•œ ë²ˆ ì €ì¥í•˜ê³  ë‹¤ìŒ ë Œë”ë§ì—ì„œ ì´ë¥¼ ë¬´ì‹œí•œë‹¤. í•¨ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ `initialArg`ë¥¼ ì„¤ì •í•˜ê³  ì‹¶ë‹¤ë©´ ë¶ˆí•„ìš”í•œ í•¨ìˆ˜ í˜¸ì¶œì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì„¸ë²ˆ ì§¸ ì¸ìˆ˜ì— ì´ˆê¸°í™” í•¨ìˆ˜ë¥¼ ì „ë‹¬í•œë‹¤.
    
    ```tsx
    function createInitialState(username) {
      // ...
    }
    
    function TodoList({ username }) {
      const [state, dispatch] = useReducer(reducer, username, createInitialState);
      // ...
    ```
    

### âœ…Â `useState` vs. `useReducer`

1. **ì½”ë“œ í¬ê¸°**
    - `useState`ë¥¼ ì‚¬ìš©í•˜ë©´ ë¯¸ë¦¬ ì‘ì„±í•´ì•¼ í•˜ëŠ” ì½”ë“œê°€ ì¤„ì–´ë“ ë‹¤.
    - `useReducer`ë¥¼ ì‚¬ìš©í•˜ë©´ reducer í•¨ìˆ˜Â *ì™€*Â actionì„ ì „ë‹¬í•˜ëŠ” ë¶€ë¶„ ëª¨ë‘ ì‘ì„±í•´ì•¼ í•œë‹¤.
        
        - í•˜ì§€ë§Œ ë§ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ stateë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš°Â `useReducer`ë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ ì¤„ì´ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.
        
2. **ê°€ë…ì„±**
    - ê°„ë‹¨í•œ state ì—…ë°ì´íŠ¸ì—ëŠ” `useState` ê°€ ì¢‹ë‹¤.
    - êµ¬ì¡°ê°€ ë³µì¡í•œ state ì—…ë°ì´íŠ¸ì—ëŠ” `useReducer` ê°€ ì¢‹ë‹¤.
        
        - Â `useReducer`ë¥¼ ì‚¬ìš©í•˜ë©´ ì—…ë°ì´íŠ¸ ë¡œì§ì´Â ì–´ë–»ê²Œ ë™ì‘Â í•˜ëŠ”ì§€ì™€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´Â ë¬´ì—‡ì´ ì¼ì–´ë‚¬ëŠ”ì§€ë¥¼ ê¹”ë”í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.
        
3. **ë””ë²„ê¹…**
    - `useState`ëŠ” ë””ë²„ê¹…ì´ ì–´ë µë‹¤.
    - `useReducer`ëŠ” reducerì— ì½˜ì†” ë¡œê·¸ë¥¼ ì¶”ê°€í•˜ì—¬ ëª¨ë“  state ì—…ë°ì´íŠ¸ì— ëŒ€í•œ ë²„ê·¸ë¥¼ í•œ ëˆˆì— í™•ì¸í•  ìˆ˜ ìˆë‹¤. ê°Â `action`ì´ ì •í™•í•˜ë‹¤ë©´, ë²„ê·¸ê°€ reducer ë¡œì§ ìì²´ì— ìˆë‹¤ëŠ” ê²ƒì„ ì‰½ê²Œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.
4. **í…ŒìŠ¤íŒ…**
    
    `useReducer` ëŠ” `useState`ì™€ ë§¤ìš° ìœ ì‚¬í•˜ì§€ë§Œ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ìˆœìˆ˜í•œ í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ state ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì˜ ë‹¨ì¼ í•¨ìˆ˜ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆê³  ì´ë¥¼ í…ŒìŠ¤íŠ¸ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    

### âœ… useState ëŒ€ì‹  useReducerì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ ê²½ìš°

- ë§ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ stateë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš° useReducerì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
    
    ```jsx
    import React, { useState } from 'react';
    
    const Counter = () => {
      const [count, setCount] = useState(0);
    
      const increment = () => {
        setCount(count + 1);
      };
    
      const decrement = () => {
        setCount(count - 1);
      };
    
      const reset = () => {
        setCount(0);
      };
    
      return (
        <div>
          Count: {count}
          <button onClick={increment}>ì¦ê°€</button>
          <button onClick={decrement}>ê°ì†Œ</button>
          <button onClick={reset}>ë¦¬ì…‹</button>
        </div>
      );
    };
    
    export default Counter;
    ```
    

- ë‹¤ìŒ ì½”ë“œì—ì„œ í•˜ë‚˜ì˜ stateì— ëŒ€í•´ì„œ ë§ì€ eventHandler í•¨ìˆ˜ë“¤ì„ ë§Œë“¤ì–´ ë‚´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ reducerì„ ì‚¬ìš©í•  ê²½ìš° ì´ëŸ¬í•œ ë¶€ë¶„ë“¤ì„ ë” ëª…ë£Œí•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
    
    ```jsx
    import React, { useReducer } from 'react';
    
    // ì´ˆê¸° ìƒíƒœ ì„¤ì •
    const initialState = {
      count: 0,
    };
    
    // ë¦¬ë“€ì„œ í•¨ìˆ˜
    const reducer = (state, action) => {
      switch (action.type) {
        case 'increment':
          return { ...state, count: state.count + 1 };
        case 'decrement':
          return { ...state, count: state.count - 1 };
        case 'reset':
          return initialState;
        default:
          throw new Error();
      }
    };
    
    const Counter = () => {
      const [state, dispatch] = useReducer(reducer, initialState);
    
      return (
        <div>
          Count: {state.count}
          <button onClick={() => dispatch({ type: 'increment' })}>ì¦ê°€</button>
          <button onClick={() => dispatch({ type: 'decrement' })}>ê°ì†Œ</button>
          <button onClick={() => dispatch({ type: 'reset' })}>ë¦¬ì…‹</button>
        </div>
      );
    };
    
    export default Counter;
    ```
    
- ë‹¤ìŒê³¼ ê°™ì´ reducerí•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³  dispatch í•¨ìˆ˜ë¥¼ í†µí•´ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. ê°€ë…ì„±ì´ í–¥ìƒë˜ì–´ ê°œë°œìì˜ ì˜ë„ë¥¼ ë³´ë‹¤ ì •í™•í•˜ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.

- {â€¦state, â€¦}ì—ì„œ â€¦stateë¥¼ spread operatorë¡œ í¼ì³ì£¼ëŠ” ì´ìœ ëŠ” stateëŠ” ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•¨ì´ë‹¤. ê°ì²´ë¥¼ ë³µì‚¬í•´ì„œ ì°¸ì¡° ê°’ìœ¼ë¡œ ë„£ì–´ì£¼ê¸° ë•Œë¬¸ì— ì›ë³¸ ê°ì²´ë¥¼ ì†ìƒì‹œí‚¤ì§€ ì•Šê³  ì°¸ì¡° ê°’ì„ ë³€ê²½í•´ ì¤„ ìˆ˜ ìˆë‹¤.